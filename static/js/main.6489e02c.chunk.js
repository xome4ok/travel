(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,a){},276:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),c=a.n(o),i=a(282),s=(a(95),a(89)),l=a(20),u=a(283),m=a(281),p=a(284),h=a(42),d=a(81),f=a(82),g=a(8),v=a.n(g),E=a(88),b=a(19),y=a(14),x=a(15),k=a(17),O=a(16),w=a(18),j=a(83),I=a.n(j),C=(a(145),function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={imagesList:[],currentImage:0,error:!1,loading:!1,isOpen:!0},a}return Object(w.a)(t,e),Object(x.a)(t,[{key:"imageListAsImageGalleryItems",value:function(e){var t=this;return e.map(function(e){var a=e.id,n=e.name;return{src:"https://www.googleapis.com/drive/v3/files/".concat(a,"?alt=media&key=").concat(t.props.googleApiKey),caption:n}})}},{key:"getImagesList",value:function(){var e=Object(b.a)(v.a.mark(function e(t,a){var n,r,o,c,i,s,l,u,m,p,h=arguments;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=h.length>2&&void 0!==h[2]?h[2]:null,r=h.length>3&&void 0!==h[3]?h[3]:1e3,o=h.length>4&&void 0!==h[4]?h[4]:"name",e.prev=3,this.setState({loading:!0}),c="'".concat(t,"'+in+parents+and+mimeType+contains+'image/'")+(n?"+and+name+contains+'".concat(n,"'"):""),i="https://www.googleapis.com/drive/v3/files?q=".concat(c,"&orderBy=").concat(o,"&pageSize=").concat(r,"&key=").concat(a),s=[],l=!0;case 9:if(!l){e.next=21;break}return u=i+(!0!==l&&l?"&pageToken=".concat(l):""),e.next=13,fetch(u);case 13:return m=e.sent,e.next=16,m.json();case 16:p=e.sent,s.push.apply(s,Object(E.a)(p.files.map(function(e){return{id:e.id,name:e.name}}))),l=p.nextPageToken,e.next=9;break;case 21:this.setState({imagesList:this.imageListAsImageGalleryItems(s),loading:!1}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),console.error(e.t0),this.setState({error:!0,loading:!1});case 28:case"end":return e.stop()}},e,this,[[3,24]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t,a,n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.folderId,n=t.googleApiKey,r=t.pattern,e.next=3,this.getImagesList(a,n,r);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"gotoPrevious",value:function(){this.setState({currentImage:this.state.currentImage-1})}},{key:"gotoNext",value:function(){this.setState({currentImage:this.state.currentImage+1})}},{key:"close",value:function(){"onClose"in this.props&&this.props.onClose(),this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement("span",{className:"loading"}," Loading..."):this.state.error?r.a.createElement("span",{className:"error"}," Error loading gallery!"):r.a.createElement(I.a,{images:this.state.imagesList,isOpen:this.state.isOpen,onClose:function(){return e.close()},onClickPrev:function(){return e.gotoPrevious()},onClickNext:function(){return e.gotoNext()},imageCountSeparator:"/",currentImage:this.state.currentImage})}}]),t}(n.Component)),N=a(84),S=a.n(N),B=a(280),A=function(e){function t(){return Object(y.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(x.a)(t,[{key:"parseTo",value:function(e){var t=document.createElement("a");return t.href=e,t}},{key:"isInternal",value:function(e){if(-1===e.indexOf("://"))return!0;var t=this.parseTo(e);return window.location.hostname===t.hostname}},{key:"render",value:function(){var e=this.props,t=e.to,a=e.children,n=Object(l.a)(e,["to","children"]);return this.isInternal(t)?r.a.createElement(B.a,Object.assign({to:t},n),a):r.a.createElement("a",Object.assign({href:t,target:"_blank",rel:"noopener noreferrer"},n),a)}}]),t}(r.a.Component),L=0,T=function(e){return r.a.createElement(A,{to:e.href},e.children)},W=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{for:"sn-".concat(L++),className:"margin-toggle"}),r.a.createElement("input",{type:"checkbox",id:"sn-".concat(L++),className:"margin-toggle"}),r.a.createElement("span",{class:"marginnote"},e.children))},F=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={text:void 0,loading:!1,error:!1},a}return Object(w.a)(t,e),Object(x.a)(t,[{key:"fetchText",value:function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.text();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.fetchText(this.props.source);case 4:t=e.sent,this.setState({text:t,loading:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),this.setState({error:!0,loading:!1});case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.error?r.a.createElement("p",{className:"danger"},"Error"):this.state.loading?r.a.createElement("p",{className:"loading"},"Loading..."):r.a.createElement(S.a,{source:this.state.text,escapeHtml:!1,renderers:{link:T,inlineCode:W}})}}]),t}(n.Component),M=(a(276),{nepal2015:{name:"Nepal 2015",props:{folderId:"0B05WBmFwB2iETlFEYU5VWEVyUmM"}},india2016:{name:"India 2016",props:{folderId:"0B05WBmFwB2iEQXM4bElaUDlPT2M"}},spb2017:{name:"Spb 2017",props:{folderId:"0B05WBmFwB2iEYXVWWGlTSVUwZzA"}}}),P="AIzaSyCRLzBFmko0AwnvUAWS78FhKxP75CukJFM",U=a(79),z=a.n(U),K=a(80),V=a.n(K),D=a(85),G={ganesh:a.n(D).a},J=function(e){return function(){return r.a.createElement("section",null,r.a.createElement(F,{source:e}))}},X=Object(u.a)(function(e){e.location;var t=e.match;e.history,e.staticContext,Object(l.a)(e,["location","match","history","staticContext"]);return J(G[t.params.text])()}),Y=Object(u.a)(function(e){var t=e.history,a=e.folderId,n=e.pattern,o=void 0===n?null:n;return r.a.createElement(C,{googleApiKey:P,folderId:a,pattern:o,onClose:function(){return t.push("/photo")}})}),q=Object(u.a)(function(e){var t=e.location,a=(e.match,e.history,e.staticContext,Object(l.a)(e,["location","match","history","staticContext"]));return t.pathname.startsWith(a.to)?r.a.createElement(A,Object.assign({className:"active"},a)):r.a.createElement(A,a)}),H=function(){return r.a.createElement("header",{id:"app-header"},r.a.createElement("nav",{id:"nav",className:"nav"},r.a.createElement("div",{className:"tight"},r.a.createElement("button",{href:"#",className:"icon",onClick:function(){var e=document.getElementById("nav");e.className="nav"===e.className?"nav responsive":"nav"}},r.a.createElement(h.a,{icon:d.a})),r.a.createElement("h1",null,r.a.createElement(A,{to:"/"},"xome4ok/travel"),r.a.createElement("div",{className:"navlinks"},r.a.createElement(q,{to:"/photo"},"photo"),r.a.createElement(q,{to:"/about"},"about")))),r.a.createElement("div",{className:"right-header-block"},r.a.createElement(A,{to:"https://github.com/xome4ok/travel",className:"link-icon"},r.a.createElement(h.a,{icon:f.a})))),r.a.createElement("hr",null))},Q=Object(u.a)(function(e){e.location;var t=e.match;e.history,e.staticContext,Object(l.a)(e,["location","match","history","staticContext"]);return r.a.createElement("section",null,r.a.createElement("ul",null,Object.entries(M).map(function(e){var a=Object(s.a)(e,2),n=a[0],o=a[1],c=o.name,i=o.props;return r.a.createElement("li",{key:n},r.a.createElement(A,{to:"/photo/".concat(n)},c),t.params.gallery===n?r.a.createElement(Y,i):null)})))}),R=function(){return r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement("article",{id:"app"},r.a.createElement(m.a,{exact:!0,path:"/",component:J(z.a)}),r.a.createElement(m.a,{exact:!0,path:"/about",component:J(V.a)}),r.a.createElement(m.a,{path:"/texts/:text",component:X}),r.a.createElement(p.a,null,r.a.createElement(m.a,{path:"/photo/:gallery",component:Q}),r.a.createElement(m.a,{path:"/photo",component:Q}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,{basename:"/travel"},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},79:function(e,t,a){e.exports=a.p+"static/media/home.e3e29800.md"},80:function(e,t,a){e.exports=a.p+"static/media/about.d41d8cd9.md"},85:function(e,t,a){e.exports=a.p+"static/media/ganesh.54a21b76.md"},90:function(e,t,a){e.exports=a(279)},95:function(e,t,a){}},[[90,2,1]]]);
//# sourceMappingURL=main.6489e02c.chunk.js.map